<article id="everything" [class.is-mobile]="mobileQuery.matches">
  <header id="header">
    <app-header (toggleSidebar)="sidenav.toggle()" [user]="user"></app-header>
  </header>
  <mat-sidenav-container class="example-container" id="layout">
    <mat-sidenav opened [mode]="mobileQuery.matches ? 'over' : 'side'" #sidenav>
      <aside id="side">
        <app-menu></app-menu>
      </aside>
    </mat-sidenav>
    <main id="main">
      <mat-tab-group
        animationDuration="0ms"
        [selectedIndex]="selected.value"
        (selectedIndexChange)="selected.setValue($event)"
        *ngIf="tabs.length"
      >
        <mat-tab *ngFor="let tab of tabs; let i = index">
          <ng-template mat-tab-label>
            <mat-icon class="tab-icon" *ngIf="tab.icon">
              {{ tab.icon }}
            </mat-icon>
            <span class="tab-title">{{ tab.title }}</span>
            <mat-icon class="tab-close" (click)="handleClose(i)">
              close
            </mat-icon>
          </ng-template>
          <app-pane [tab]="tab" id="pane"></app-pane>
        </mat-tab>
      </mat-tab-group>
    </main>
  </mat-sidenav-container>
  <footer id="footer">
    <app-footer></app-footer>
  </footer>
</article>
