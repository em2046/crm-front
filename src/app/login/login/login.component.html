<app-background></app-background>
<div class="login">
  <mat-icon class="login-logo">headset_mic</mat-icon>
  <h1 class="login-title">客户关系管理系统</h1>
  <p class="login-desc">上海交通大学本科毕业论文</p>
  <div class="login-card">
    <form
      (ngSubmit)="onSubmit(loginForm.value)"
      [formGroup]="loginForm"
      class="login-form"
    >
      <mat-form-field appearance="outline">
        <mat-label>用户名</mat-label>
        <input
          autocomplete="username"
          formControlName="name"
          matInput
          name="username"
          placeholder="Username"
          required
        />
        <mat-icon matSuffix>person</mat-icon>
        <mat-error *ngIf="name.invalid">
          {{ Utils.getValidateMessage(name, '用户名') }}
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>密码</mat-label>
        <input
          autocomplete="current-password"
          formControlName="password"
          matInput
          placeholder="Password"
          required
          type="password"
        />
        <mat-icon matSuffix>lock</mat-icon>
        <mat-hint align="end"
          ><a (click)="handleForgetPassword()">忘记密码</a></mat-hint
        >
        <mat-error *ngIf="password.invalid">
          {{ Utils.getValidateMessage(password, '密码') }}
        </mat-error>
      </mat-form-field>
      <button
        class="login-submit"
        color="primary"
        mat-flat-button
        type="submit"
        [disabled]="loginLoading"
      >
        <span>登录</span>
        <mat-spinner *ngIf="loginLoading" color="primary"></mat-spinner>
      </button>
    </form>
  </div>
  <div class="login-card">
    新客服？<a routerLink="/register">注册一个账号</a>
  </div>
</div>
